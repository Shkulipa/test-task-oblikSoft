(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{18:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/refresh.e19a8b43.svg"},19:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/search.3f126081.svg"},20:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/cancel.2a6d6a23.svg"},34:function(e,t,n){var r={"./cancel.svg":[20],"./female.svg":[91,3],"./male.svg":[92,4],"./refresh.svg":[18],"./search.svg":[19],"./telegram.svg":[93,5],"./viber.svg":[94,6]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=34,e.exports=c},46:function(e,t,n){},47:function(e,t,n){},68:function(e,t,n){},81:function(e,t,n){},85:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(35),s=n.n(c),a=(n(46),n(47),n(110)),i=n(22),u=n(8),o=n(21),j=n.n(o),l=n(36),d=n(37),b=n.n(d).a.create({baseURL:"http://localhost:3000",responseType:"json"}),f=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.get("data.json").then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),O=n(108),h=(n(68),n(38)),m=(n(81),function(e){return e<10?"0"+e:e}),g=n(4),p=n.n(g),x=(p.a.number,p.a.string,p.a.number,p.a.string,p.a.string,p.a.string,p.a.string,p.a.string,p.a.bool,n(0)),v=function(e){var t=e.user,n=e.readCard,r=e.avatarImg,c=e.socialImg,s=e.phoneString,a=e.parseDate,i=t.id,u=t.sex,o=t.status,j=t.name,l=t.description;return Object(x.jsxs)("div",{className:"card ".concat(o?"not-read":null),children:[Object(x.jsxs)("div",{className:"card__user",children:[Object(x.jsxs)("div",{className:"img ".concat("male"===u?"male":null),children:[Object(x.jsx)("img",{src:r,alt:""}),Object(x.jsx)("img",{className:"social-img",src:c,onClick:function(){return n(i)},alt:""})]}),Object(x.jsxs)("div",{className:"info",children:[Object(x.jsx)("p",{children:j.length>18?j.slice(0,18)+"...":j}),Object(x.jsx)("p",{className:"phone",children:Object(h.a)("".concat(s))})]})]}),Object(x.jsx)("p",{className:"card__text",children:l.length>55?l.slice(0,55)+"...":l}),Object(x.jsxs)("div",{className:"card__date",children:[Object(x.jsxs)("p",{children:[m(a.getHours()),":",m(a.getMinutes())]}),Object(x.jsxs)("p",{children:[a.getDate(),".",a.getMonth()+1,".",a.getFullYear()]})]})]})},N=n(9),S=function(e,t){var n=Object(N.a)(e).map((function(e,t){return 2===t||5===t||7===t?e+" ":e})),r=e.substr(0,t.length),c=0;if(t.length>0&&t===r){c=e.slice(0,t.length);var s=["<span>"].concat(Object(N.a)(n));return s.splice(c.length+1,0,"</span>"),{phoneString:s.join("")}}return{phoneString:n.join("")}},C=function(e){var t=e.user,c=e.inputVal,s=e.readCard,a=t.picture,i=t.social,o=t.date,j=t.phone,l=Object(r.useState)(null),d=Object(u.a)(l,2),b=d[0],f=d[1],O=Object(r.useState)(null),h=Object(u.a)(O,2),m=h[0],g=h[1],p=S(j,c).phoneString,N=new Date(Number(o));return Object(r.useEffect)((function(){n(34)("./".concat(a)).then((function(e){return f(e.default)})),n(34)("./".concat(i)).then((function(e){return g(e.default)}))}),[a,i]),Object(x.jsx)(v,{user:t,readCard:s,parseDate:N,avatarImg:b,socialImg:m,phoneString:p})},k=(n(85),function(){return Object(x.jsx)("div",{className:"loadingio-spinner-spin-11c6t503gmv",children:Object(x.jsxs)("div",{className:"ldio-06z2k1d0zc9",children:[Object(x.jsx)("div",{children:Object(x.jsx)("div",{})}),Object(x.jsx)("div",{children:Object(x.jsx)("div",{})}),Object(x.jsx)("div",{children:Object(x.jsx)("div",{})}),Object(x.jsx)("div",{children:Object(x.jsx)("div",{})}),Object(x.jsx)("div",{children:Object(x.jsx)("div",{})}),Object(x.jsx)("div",{children:Object(x.jsx)("div",{})}),Object(x.jsx)("div",{children:Object(x.jsx)("div",{})}),Object(x.jsx)("div",{children:Object(x.jsx)("div",{})})]})})}),y=n(18),I=function(e){var t=e.users,n=e.inputVal,r=e.loading,c=e.readCard,s=e.refreshData;return r?Object(x.jsx)(k,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"loading",children:[Object(x.jsx)("img",{src:y.default,onClick:s,alt:""}),Object(x.jsxs)("p",{children:["\u0417\u043d\u0430\u0439\u0434\u0435\u043d\u043e ",t.length," \u043a\u043b\u0456\u0454\u043d\u0442\u0456\u0432"]})]}),Object(x.jsx)(O.a,{container:!0,item:!0,xs:12,children:t.map((function(e){return Object(x.jsx)(C,{user:e,inputVal:n,readCard:c},e.id)}))})]})},D=(n(88),n(19)),P=n(20),_=function(e){var t=e.inputVal,n=e.handelSearch,r=e.resetSearch;return Object(x.jsxs)("div",{className:"inputBlock",children:[Object(x.jsx)("img",{className:"search",src:D.default,alt:""}),Object(x.jsx)("button",{className:"cancel",onClick:r,children:Object(x.jsx)("img",{src:P.default,alt:""})}),Object(x.jsx)("input",{type:"number",onChange:function(e){return n(e)},placeholder:"Input phone...",value:t})]})},w=(n(89),function(e){for(var t=e.allPosts,n=e.onOnePage,r=e.goToPage,c=Math.ceil(Number(t)/Number(n)),s=1,a=[];s<c+1;)a.push(s),s++;return Object(x.jsx)(x.Fragment,{children:a.map((function(e){return Object(x.jsx)("div",{className:"page",onClick:function(e){return r(e)},children:e},e)}))})}),V=function(e,t,n){return"date"===n?Number(e[n])>Number(t[n])?1:Number(e[n])<Number(t[n])?-1:0:e[n]<t[n]?1:e[n]>t[n]?-1:0},E=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1];return{sortedItems:Object(r.useMemo)((function(){var e=n.sort((function(e,t){return V(e,t,"status")})),t=e.findIndex((function(e){return!1===e.status})),r=Object(N.a)(e.slice(0,t)).sort((function(e,t){return V(e,t,"date")})),c=Object(N.a)(e.slice(t)).sort((function(e,t){return V(e,t,"date")}));return[].concat(Object(N.a)(r),Object(N.a)(c))}),[n]),reqSort:function(e){return c(e)}}},M=function(){var e=E(),t=e.sortedItems,n=e.reqSort,c=Object(r.useState)(""),s=Object(u.a)(c,2),a=s[0],o=s[1],j=Object(r.useState)(0),l=Object(u.a)(j,2),d=l[0],b=l[1],h=Object(r.useState)(!0),m=Object(u.a)(h,2),g=m[0],p=m[1],v=Object(r.useState)(!1),N=Object(u.a)(v,2),S=N[0],C=N[1];Object(r.useEffect)((function(){S||(C(!0),f().then((function(e){n(e.users.users),b(e.users.count)})).catch((function(e){return console.error(e)})).finally((function(){return p(!1)})))}),[S,n]);return Object(x.jsxs)(O.a,{container:!0,spacing:1,children:[Object(x.jsx)(O.a,{container:!0,item:!0,justifyContent:"center",xs:12,children:Object(x.jsx)(_,{inputVal:a,handelSearch:function(e){return o(e.currentTarget.value)},resetSearch:function(){return o("")}})}),Object(x.jsx)(O.a,{container:!0,item:!0,xs:12,children:Object(x.jsx)(I,{users:t||[],inputVal:a,loading:g,readCard:function(e){var r=t.find((function(t){return t.id===e})),c=t.map((function(t){return t.id===e?Object(i.a)(Object(i.a)({},r),{},{status:!1}):t}));n(c)},refreshData:function(){p(!0),f().then((function(e){n(e.users.users),b(e.users.count)})).catch((function(e){return console.error(e)})).finally((function(){return p(!1)}))}})}),Object(x.jsx)(O.a,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:Object(x.jsx)(w,{allPosts:d,onOnePage:8,goToPage:function(e){console.log("Load posts form "+e+" page")}})})]})};var T=function(){return Object(x.jsx)(a.a,{maxWidth:"lg",children:Object(x.jsx)(M,{})})};s.a.render(Object(x.jsx)(T,{}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.0437f272.chunk.js.map